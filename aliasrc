sshhome() { ssh -Cv -p 1009 -v pi@573.yadav.xyz; }

### Git helpers

pull() {
  set -x;
  branch=master;
  if [[ ! -z "$1" ]]; then
    branch=$1;
  fi
  git pull --rebase origin $branch;
}

push() {
  set -x;
  branch=master;
  if [[ ! -z "$1" ]]; then
    branch=$1;
  fi
  git push origin $branch;
}

### CloudStack hacks

dumpdb() {
  set -x
  mysqldump -u root  cloud > cloud.sql
  mysqldump -u root  cloud_usage > cloud_usage.sql
  mysqldump -u root  cloudbridge > cloudbridge.sql
}

loaddb() {
  set -x
  mysql -u root cloud < cloud.sql
  mysql -u root cloud_usage < cloud_usage.sql
  mysql -u root cloudbridge < cloudbridge.sql
}

agentscp() {
  ROOT=$PWD
  echo "[acs agent] Syncing changes to agent: $1"
  scp systemvm/dist/systemvm.iso  root@$1:/usr/share/cloudstack-common/vms/
  echo "[acs agent] Copied systemvm.iso"
  cd scripts
  scp -r . root@$1:/usr/share/cloudstack-common/scripts/
  echo "[acs agent] Copied scripts"
  cd $ROOT/plugins/hypervisors/kvm/target
  cp *jar dependencies
  cd dependencies
  ssh root@$1 "rm -f /usr/share/cloudstack-agent/lib/*jar"
  scp -r . root@$1:/usr/share/cloudstack-agent/lib/
  echo "[acs agent] Copied jars"
  cd $ROOT
}

### VPN, socks

runsocksproxy() {
    ssh -D 2005 -f -C -v -N root@hydra.yadav.xyz
}

### Backup methods

backupnow() { echo "Launching secret backup program"; bash -x ~/bin/backup.sh; }
hsync() { echo "Syncing to Helium!"; bash -x ~/bin/hsync.sh; }

### General exports

# Zsh tmux issue fix
alias tmux='tmux -u'

# Utf8 exports
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8

# Local apps
export PATH=$HOME/bin:$PATH

# Golang exports
export GOPATH=$HOME/Lab/golang
export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin

# Maven exports
export MAVEN_OPTS="-Xmx4096m -XX:MaxPermSize=500m -Xdebug -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n"

# Jenv
export PATH="$HOME/.jenv/bin:$PATH"
eval "$(jenv init -)"

# Pyenv
export PATH="$HOME/.pyenv/bin:$PATH"
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"

# Tooling exports
export PATH="/usr/local/heroku/bin:$PATH"
